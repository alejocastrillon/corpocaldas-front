<p-dropdown [options]="optionsFilter" [(ngModel)]="optionFilterSelected" (onChange)="changeFilter()" optionLabel="name"
  optionValue="code">
</p-dropdown>
<div class="table">
  <p-table class="esri-widget__table" [lazy]="true" (onLazyLoad)="getFilterAccessRequest($event)"
    [paginator]="true" [rows]="10" [totalRecords]="numberOfRows" [loading]="loading"
    [globalFilterFields]="['name', 'email']" [value]="accessRequests" styleClass="p-datatable-striped">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th>
          Nombre
        </th>
        <th>
          Correo Electrónico
        </th>
        <th class="actions"></th>
      </tr>
      <tr>
        <th>
          <p-columnFilter type="text" field="name"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="email"></p-columnFilter>
        </th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-access>
      <tr>
        <td>
          {{access.name}}
        </td>
        <td>
          {{access.email}}
        </td>
        <td>
          <button pButton type="button" label="Ver detalles" icon="pi pi-eye" class="p-button-sm"
            (click)="openDialog(rowData)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>


<p-dialog *ngIf="display" header="Solicitud #0001" [(visible)]="display" modal="true">
  <h3>Solicitante:</h3>
  <p>{{valueDialog.name}}</p>

  <h3>Entidad a la que pertenece:</h3>
  <p>{{valueDialog.entity}}</p>

  <h3>Capa que solicita:</h3>
  <p>{{valueDialog.layer}}</p>

  <h3>Razón:</h3>
  <p>{{valueDialog.observation}}</p>

  <div class="flex">
    <button pButton type="button" label="Rechazar" icon="pi pi-times" class="p-button-raised p-button-warning"
      (click)="reject()"></button>
    <button pButton type="button" label="Aceptar" icon="pi pi-check" class="p-button-raised p-button-success"
      (click)="accept()"></button>
  </div>
</p-dialog>